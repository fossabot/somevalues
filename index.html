<!DOCTYPE html>
<html>
	<head>
		<title pid="title"></title>
		<link rel="stylesheet" type="text/css" href="styles.css"/>
		<script src="main.js"></script>
	</head>
	<body>
		<header>
			<h1 pid="title"></h1>
		</header>
		<main>
			<h2 pid="languagesel.header"></h2>
			<div id="languages">
			</div>
		</main>
		<script>
window.addEventListener('configLoad', _ => {
	let fragment = new DocumentFragment()

	for (const lang of configCache.languages) {
		let btn = document.createElement("a");
		btn.setAttribute("class","linkbutton");
		btn.setAttribute("href","quiz.html");
		btn.onclick = _ => {
			localStorage.setItem('lang', lang.lid)
			cacheFile(`localisation/${lang.lid}.json`, 'localisation', 'localisationCache')
		}
		btn.innerHTML = lang.name;
		fragment.appendChild(btn);
	}

	document.getElementById("languages").appendChild(fragment);
})
		</script>
		<footer>	
			<nav>
				<ul>
					<li><a href="https://github.com/deekts/political-hexadecaract/">Github</a></li>
				</ul>
			</nav>	
		</footer>
	</body>
</html>
